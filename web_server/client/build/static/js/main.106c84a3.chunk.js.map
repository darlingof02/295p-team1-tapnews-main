{"version":3,"sources":["Auth/Auth.js","const.js","NewsCard/NewsCard.js","NewsPanel/NewsPanel.js","Base/Base.js","Login/LoginForm.js","Login/LoginPage.js","SignUp/SignUpForm.js","SignUp/SignUpPage.js","NewsPanel/NewsPanelForClass.js","Person/EditModal.js","Person/PersonProfile.js","NewsPanel/NewsPanelForLike.js","NewsPanel/NewsPanelForRecommend.js","App/App.js","index.js"],"names":["Auth","token","email","localStorage","setItem","getItem","removeItem","IP","NewsCard","state","value","color","copied","this","findlike","setState","url","sendClickLog","window","open","getEmail","props","news","digest","request","Request","encodeURI","method","headers","getToken","cache","fetch","i","likelist","length","Button","variant","onClick","alert","copy","like","className","redirectToUrl","src","urlToImage","alt","title","description","source","id","name","reason","time","React","Component","NewsPanel","pageNum","totalPages","loadedAll","handleScroll","bind","renderNews","isUserAuthenticated","loadMoreNews","loadLike","_","debounce","addEventListener","scrollY","pageYOffset","document","documentElement","scrollTop","innerHeight","body","offsetHeight","console","log","e","then","res","json","concat","list","arr","len","j","splice","temp","unique","news_list","map","href","history","replace","withRouter","children","Navbar","bg","Container","Brand","Nav","Link","NavDropdown","category","Item","Text","logout","LoginForm","onSubmit","onChange","errors","user","action","summary","type","htmlFor","password","to","LoginPage","context","processForm","changeUser","event","preventDefault","JSON","stringify","response","status","error","authenticateUser","message","field","target","SignUpForm","SignUpPage","confirm_password","push","NewsPanelForClass","match","params","loadClassNews","class","EditModal","update","attr","useState","show","setShow","userInfo","setUserInfo","handleClose","Modal","onHide","Header","closeButton","Title","Body","Form","Group","controlId","Label","Control","autoFocus","Footer","user_info","updateTest","location","reload","PersonProfile","Date","userEmail","setEmail","userBirthday","setBirth","userAlias","setAlias","userCountry","setCountry","useEffect","loadUserInfo","undefined","NewsPanelForLike","loadLikedNews","NewsPanelForRecommend","App","path","component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.106c84a3.chunk.js","sourcesContent":["class Auth {\n    /**\n    * Authenticate a user. Save a token string in Local Storage\n    *\n    * @param {string} token\n    * @param {string} email\n    */\n    static authenticateUser(token, email) {\n        localStorage.setItem('token', token);\n        localStorage.setItem('email', email);\n    }\n    /**\n    * Check if a user is authenticated - check if a token is saved in Local S\n    torage\n    *\n    * @returns {boolean}\n    */\n    static isUserAuthenticated() {\n        return localStorage.getItem('token') !== null;\n    }\n\n    /**\n     * remove token and email when logout\n     */\n    static logout() {\n        localStorage.removeItem('token');\n        localStorage.removeItem('email');\n    }\n    /**\n    * Deauthenticate a user. Remove token and email from Local Storage.\n    *\n    */\n    static deauthenticateUser() {\n        localStorage.removeItem('token');\n        localStorage.removeItem('email');\n    }\n    /**\n    * Get a token value.\n    *\n    * @returns {string}\n    */\n    static getToken() {\n        return localStorage.getItem('token');\n    }\n    /**\n    * Get email.\n    *\n    * @returns {string}\n    */\n    static getEmail() {\n        return localStorage.getItem('email');\n    }\n}\nexport default Auth;","// export const IP = \"192.168.86.147\"\nexport const IP = \"localhost\"","import './NewsCard.css';\nimport React from 'react';\nimport Auth from '../Auth/Auth';\n// import {Button} from \"bootstrap\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport ButtonToolbar from 'react-bootstrap/ButtonToolbar'\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\nimport copy from 'copy-to-clipboard'\nimport Button from 'react-bootstrap/Button';\nimport { IP } from '../const';\n\n\nclass NewsCard extends React.Component {\n    state = {\n        value: '',\n        color:\"light\",\n        copied: false,\n    };\n    componentDidMount() {\n        if(this.findlike())\n            this.setState({color:\"warning\"})\n        else\n            this.setState({color:\"light\"})\n    }\n    redirectToUrl(url) {\n        this.sendClickLog();\n        window.open(url, '_blank');\n    }\n    sendClickLog() {\n        let url = `http://${IP}:3000/news/userId/` + Auth.getEmail()\n            + '/newsId/' + this.props.news.digest;\n        let request = new Request(encodeURI(url), {\n            method: 'POST',\n            headers: {\n                'Authorization': 'bearer ' + Auth.getToken(),\n            },\n            cache: \"no-cache\"\n        });\n\n        fetch(request);\n    }\n    like(){\n        let url = `http://${IP}:3000/news/like/` + Auth.getEmail()\n            + '/newsId/' + this.props.news.digest;\n        let request = new Request(encodeURI(url), {\n            method: 'POST',\n            headers: {\n                'Authorization': 'bearer ' + Auth.getToken(),\n            },\n            cache: \"no-cache\"\n        });\n        fetch(request);\n\n        this.setState({color: \"warning\"})\n    }\n    findlike(){\n        for (let i = 0; i < this.props.likelist.length; i++) {\n            if (this.props.likelist[i]==this.props.news.digest){\n                return true\n            }\n        }\n        return false\n    }\n    render() {\n        //console.log(this.props.likelist)\n\n\n        return (\n            <div>\n                {/* <CopyToClipboard text={this.props.news.url}\n                                 onCopy={() => this.setState({copied: true})}>\n                    <button onClick={()=>alert(\"Successfully copied to clip board\")}>Share</button>\n                </CopyToClipboard> */}\n                <Button variant=\"info\" onClick={()=>{alert(\"Successfully copied to clip board\");copy(this.props.news.url)}}>Share</Button>{' '}\n\n                {/*<button color={this.state.color} onClick={()=>this.like()}>Like</button>*/}\n                <Button variant={this.state.color} onClick={()=>{this.like()}}>Like</Button>{' '}\n                {/* <button style={{color:this.state.color}} onClick={()=>this.like()}>Like</button> */}\n                <div className=\"news-container\" onClick={() => this.redirectToUrl(this.props.news.url)}>\n                    <div className='row'>\n                        <div className='col s4 fill'>\n                            <img src={this.props.news.urlToImage} alt='news' />\n                        </div>\n                        <div className='col s8'>\n                            <div className='news-intro-col'>\n                                <div className='news-intro-panel'>\n                                    <h4>{this.props.news.title}</h4>\n                                    <div className='news-description'>\n                                        <p>{this.props.news.description}</p>\n                                        <div>\n                                            {this.props.news.source.id != null && <div className='chip light-blue news-chip'>{this.props.news.source.name}</div>}\n                                            {this.props.news.reason != null && <div className='chip light-green news-chip'>{this.props.news.reason}</div>}\n                                            {this.props.news.time != null && <div className='chip amber news-chip'>{this.props.news.time}</div>}\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default NewsCard;","import './NewsPanel.css';\nimport _ from 'lodash';\nimport React from 'react';\nimport Auth from '../Auth/Auth';\nimport { IP } from '../const';\n\nimport NewsCard from '../NewsCard/NewsCard';\nimport { Link, withRouter } from 'react-router-dom';\n\nclass NewsPanel extends React.Component {\n    constructor() {\n        super();\n        this.state = { news: null, pageNum: 1, totalPages: 1, loadedAll: false, likelist:[]};\n        this.handleScroll = this.handleScroll.bind(this);\n        this.renderNews = this.renderNews.bind(this);\n\n    }\n\n    componentDidMount() {\n        if (Auth.isUserAuthenticated()) {\n            this.loadMoreNews();\n        }\n        // 防抖\n        this.loadLike();\n        this.loadMoreNews = _.debounce(this.loadMoreNews, 1000);\n        window.addEventListener('scroll', this.handleScroll);\n    }\n    handleScroll() {\n        let scrollY = window.scrollY || window.pageYOffset || document.documentElement.scrollTop;\n        if ((window.innerHeight + scrollY) >= (document.body.offsetHeight - 50)) {\n            // 滚动到了最底部。\n            console.log('Loading more news');\n\n            this.loadMoreNews();\n        }\n    }\n    loadMoreNews(e) {\n        if (this.state.loadedAll === true) {\n            return;\n        }\n        let url = `http://${IP}:3000/news/userId/` + Auth.getEmail() + '/pageNum/' + this.state.pageNum\n        let request = new Request(encodeURI(url), {\n            method: 'GET',\n            headers: {\n                'Authorization': 'bearer ' + Auth.getToken(),\n            },\n            cache: 'no-cache',\n        });\n\n        fetch(request)\n            .then((res) => res.json())\n            .then((news) => {\n                console.log(news)\n                if (!news || news.length === 0) {\n                    this.setState({ loadedAll: true });\n                }\n                this.setState({\n                    news: this.state.news ? this.state.news.concat(news) : news,\n                    pageNum: this.state.pageNum + 1\n                });\n            });\n    }\n    loadLike(e) {\n        // if (this.state.loadedAll === true) {\n        //     return;\n        // }\n        let url = `http://${IP}:3000/news/getlike/userId/` + Auth.getEmail() + '/pageNum/' + this.state.pageNum\n        let request = new Request(encodeURI(url), {\n            method: 'GET',\n            headers: {\n                'Authorization': 'bearer ' + Auth.getToken(),\n            },\n            cache: 'no-cache',\n        });\n\n        fetch(request)\n            .then((res) => res.json())\n            .then((list) => {\n                //console.log(list)\n                this.setState({ likelist:list});\n                // if (!news || news.length === 0) {\n                //     this.setState({ loadedAll: true });\n                // }\n                // this.setState({\n                //     news: this.state.news ? this.state.news.concat(news) : news,\n                //     pageNum: this.state.pageNum + 1\n                // });\n            });\n    }\n    unique (arr) {\n        let len = arr.length\n        for (let i = 0; i < len; i++) {\n\n            for (let j = i + 1; j < len; j++) {\n                if (arr[i].digest === arr[j].digest) {\n                    arr.splice(j, 1)\n                    len-- // 减少循环次数提高性能\n                    j-- // 保证j的值自加后不变\n                }\n            }\n        }\n        return arr\n    }\n    renderNews() {\n        //console.log(this.state.likelist)\n        var temp=this.state.likelist\n        this.state.news=this.unique(this.state.news)\n        var news_list = this.state.news.map(function (news) {\n\n            return (\n                <a className='list-group-item' key={news.digest} href=\"#\">\n                    <NewsCard news={news} likelist={temp} />\n                </a>\n            );\n        });\n\n        return (\n            <div className=\"container-fluid\">\n                <div className='list-group'>\n                    {news_list}\n                </div>\n            </div>\n        );\n    }\n\n    render() {\n        if (Auth.isUserAuthenticated()) {\n            if (this.state.news) {\n                return (\n                    <div>\n                        {this.renderNews()}\n                    </div>\n                );\n            } else {\n                return (\n                    <div>\n                        <div id='msg-app-loading'>\n                            Loading\n                        </div>\n                    </div>\n                )\n            }\n        } else {\n            this.props.history.replace(\"/login\")\n\n            return (\n                <div className='container'>\n                    Please login first\n                </div>\n            )\n        }\n    }\n}\n// export default NewsPanel;\nexport default withRouter(NewsPanel);\n","import React from 'react';\nimport Auth from '../Auth/Auth';\nimport PropTypes from 'prop-types';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n// import './Base.css';\nimport { Link, withRouter } from 'react-router-dom';\nimport Button from 'react-bootstrap/Button';\nimport Navbar from 'react-bootstrap/Navbar'\nimport Container from 'react-bootstrap/Container';\nimport Nav from 'react-bootstrap/Nav'\nimport { DropdownButton, Dropdown, NavDropdown } from 'react-bootstrap';\n\n\n\nconst Base = function ({ children, history }) {\n    const categories = [\n        \"Sports\", \n        \"Technology\",\n        \"World\",\n        \"Politics & Government\",\n        \"Media\"\n    ]\n\n\n\n    return (\n        <div>\n\n        <Navbar bg=\"primary\" variant=\"dark\">\n            <Container>\n                <Navbar.Brand>TapNews</Navbar.Brand>\n                {Auth.isUserAuthenticated() ? (\n                    <Nav className=\"me-auto\">\n                        <Nav.Link href=\"/home\">Home</Nav.Link>\n                        <Nav.Link href=\"/personal\">Profile</Nav.Link>\n                        <Nav.Link href=\"/favorites\">Likes</Nav.Link>\n                        <Nav.Link href=\"/recommend\">Recommend</Nav.Link>\n                    </Nav>) : null\n                }\n                {Auth.isUserAuthenticated() ? (\n                    <Nav className=\"me-auto\">\n                    <NavDropdown title=\"Category\" id=\"basic-nav-dropdown\">\n                        {categories.map((category)=>\n                            <NavDropdown.Item key={category} href={\"/categories/\"+category}>{category}</NavDropdown.Item>\n                        )}\n                    </NavDropdown>\n                    </Nav>\n                ) : null\n                }\n                    \n                    \n                {Auth.isUserAuthenticated() ? (\n                    <Nav>\n                        <Navbar.Text>\n                            Signed in as: {Auth.getEmail()}\n                        </Navbar.Text>\n                        <Nav.Link href=\"/login\" onClick={() => {\n                                       Auth.logout()\n                                    }}>Log out</Nav.Link>\n                    </Nav>) : (\n                        <Nav>\n                         <Nav.Link href=\"/login\">Login</Nav.Link>\n                         <Nav.Link href=\"/signup\">Signup</Nav.Link>\n                        </Nav>\n                    )\n                }\n                \n                \n                {/* <DropdownButton id=\"dropdown-basic-button\" title=\"categories\">\n                    {categories.map((category)=>\n                        <Dropdown.Item key={category} href={\"/categories/\"+category}>{category}</Dropdown.Item>\n                    )}\n                </DropdownButton> */}\n            \n            </Container>\n        </Navbar>\n\n            {/* <nav className=\"nav-bar light-blue darken-4\">\n                <div className=\"nav-wrapper\">\n\n                    <Link to=\"/\" className=\"brand-logo\">&nbsp;&nbsp;News Feed</Link>\n\n                    <ul id=\"nav-mobile\" className=\"right\">\n                        {Auth.isUserAuthenticated() ?\n                            (<div>\n                                <li>{Auth.getEmail()}</li>\n                                <li>\n\n                                    <a href='/' onClick={() => {\n                                        Auth.deauthenticateUser(() => this.props.history.push(\"/logout\"));\n                                    }}>Log out</a>\n                                </li>\n\n                            </div>)\n                            :\n                            (<div>\n                                \n                                <li><Link to=\"/login\">Log in</Link></li>\n                                <li><Link to=\"/signup\">Sign up</Link></li>\n                            </div>)\n                        }\n                    </ul>\n                </div>\n            </nav>\n            <br /> */}\n            {children}\n        </div>\n    )\n}\n// 规定必须传入参数\nBase.propTypes = {\n    children: PropTypes.object.isRequired\n};\n// export default Base;\nexport default withRouter(Base);\n","import React from 'react';\nimport './LoginForm.css';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nconst LoginForm = ({\n    onSubmit,\n    onChange,\n    errors,\n    user,\n}) => (\n    <div className=\"container\">\n        <div className=\"card-panel login-panel\">\n            <form className=\"col s12\" action=\"/\" onSubmit={onSubmit}>\n                <h4 className=\"center-align\">Login</h4>\n                {errors.summary && <div className=\"row\"><p className=\"error-message\">{errors.summary}</p></div>}\n                \n                <div className=\"row\">\n                    <div className=\"input-field col s12\">\n                        <input className=\"validate\" id=\"email\" type=\"email\" name=\"email\"\n                            onChange={onChange} />\n                        <label htmlFor='email'>Email</label>\n                    </div>\n                </div>\n                {errors.email && <div className=\"row\"><p className=\"error-message\">\n                    {errors.email}</p></div>}\n                <div className=\"row\">\n                    <div className=\"input-field col s12\">\n                        <input className=\"validate\" id=\"password\" type=\"password\"\n                            name=\"password\" onChange={onChange} />\n                        <label htmlFor='password'>Password</label>\n                    </div>\n                </div>\n                {errors.password && <div className=\"row\"><p className=\"error-message\">{errors.password}</p></div>}\n                <div className=\"row right-align\">\n                    <button type=\"submit\" className=\"waves-effect waves-light btn light-blue darken-4\" value='Log in'>Log in</button>\n                </div>\n                <div className=\"row\">\n                    <p className=\"right-align\"> New to here? <Link to=\"/signup\">Sign up</Link></p>\n                </div>\n            </form>\n        </div>\n    </div>\n);\n\nLoginForm.propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n    onChange: PropTypes.func.isRequired,\n    errors: PropTypes.object.isRequired,\n    user: PropTypes.object.isRequired\n};\nexport default LoginForm;","import React, { Component } from 'react';\nimport Auth from '../Auth/Auth';\nimport LoginForm from './LoginForm';\nimport PropTypes from 'prop-types'\nimport { IP } from '../const';\nclass LoginPage extends Component {\n\n    constructor(props, context) {\n        super(props, context);\n        this.state = {\n            errors: {},\n            user: {\n                email: '',\n                password: ''\n            }\n        };\n        this.processForm = this.processForm.bind(this);\n        this.changeUser = this.changeUser.bind(this);\n    }\n\n    processForm(event) {\n        event.preventDefault()\n\n        const email = this.state.user.email;\n        const password = this.state.user.password;\n        console.log('email:', email);\n        console.log('password:', password);\n\n        //post login data\n        fetch(`http://${IP}:3000/auth/login`, {\n            method: 'POST',\n            cache: \"no-cache\",\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                email: this.state.user.email,\n                password: this.state.user.password\n            })\n        }).then(response => {\n            if (response.status === 200) {\n                this.setState({\n                    error: {}\n                });\n\n                response.json().then((json) => {\n                    console.log(json);\n                    Auth.authenticateUser(json.token, email);\n                    this.props.history.replace('/');\n                    // this.props.parentThis.props.history.push('/');\n                });\n            } else {\n                console.log('login failed');\n                response.json().then((json) => {\n                    const errors = json.errors ? json.errors : {};\n                    errors.summary = json.message;\n                    this.setState({ errors });\n                });\n            }\n        });\n    }\n\n    changeUser(event) {\n        const field = event.target.name;\n        const user = this.state.user;\n        user[field] = event.target.value;\n\n        this.setState({ user });\n    }\n\n    render() {\n        return (\n            <LoginForm\n                onSubmit={this.processForm}\n                onChange={this.changeUser}\n                errors={this.state.errors}\n                user={this.state.user}\n            />\n        );\n    }\n}\n// LoginPage.contextTypes = {\n//     router: PropTypes.object.isRequired\n// };\nexport default LoginPage;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './SignUpForm.css';\nimport { Link } from 'react-router-dom';\n\nconst SignUpForm = ({\n    onSubmit,\n    onChange,\n    errors,\n    user\n}) => (\n    <div className=\"container\">\n        <div className=\"card-panel signup-panel\">\n            <form className=\"col s12\" action=\"/\" onSubmit={onSubmit}>\n                <h4 className=\"center-align\">Sign Up</h4>\n                {errors.summary && <div className=\"row\"><p className=\"error-message\">{errors.summary}</p></div>}\n                <div className=\"row\">\n                    <div className=\"input-field col s12\">\n                        <input id=\"email\" type=\"email\" name=\"email\" className=\"validate\" onChange={onChange}/>\n                        <label htmlFor=\"email\">Email</label>\n                    </div>\n                </div>\n                {errors.email && <div className=\"row\"><p className=\"error-message\">{errors.email}</p></div>}\n                <div className=\"row\">\n                    <div className=\"input-field col s12\">\n                        <input id=\"password\" type=\"password\" name=\"password\" className=\"validate\" onChange={onChange}/>\n                        <label htmlFor=\"password\">Password</label>\n                    </div>\n                </div>\n                {errors.password && <div className=\"row\"><p className=\"error-message\">{errors.password}</p></div>}\n                <div className=\"row\">\n                    <div className=\"input-field col s12\">\n                        <input id=\"confirm_password\" type=\"password\" name=\"confirm_password\" className=\"validate\" onChange={onChange}/>\n                        <label htmlFor=\"confirm_password\">Confirm Password</label>\n                    </div>\n                </div>\n                <div className=\"row right-align\">\n                    <button type=\"submit\" className=\"waves-effect waves-light btn light-blue darken-4\" value='Sign Up'>Sign Up</button>\n                </div>\n                <div className=\"row\">\n                    <p className=\"right-align\"> Already have an account? <Link to=\"/login\">Log in</Link></p>\n                </div>\n            </form>\n        </div>\n    </div>\n);\n\nSignUpForm.propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n    onChange: PropTypes.func.isRequired,\n    errors: PropTypes.object.isRequired,\n    user: PropTypes.object.isRequired\n}\n\nexport default SignUpForm;","import React, { Component } from 'react';\nimport SignUpForm from './SignUpForm';\nimport { IP } from '../const';\n\nclass SignUpPage extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            errors: {},\n            user: {\n                email: '',\n                password: '',\n                confirm_password: ''\n            }\n        }\n\n        this.processForm = this.processForm.bind(this);\n        this.changeUser = this.changeUser.bind(this);\n    }\n\n    processForm(event) {\n        event.preventDefault();\n\n        const email = this.state.user.email;\n        const password = this.state.user.password;\n        const confirm_password = this.state.user.confirm_password;\n\n        console.log('email: ', email);\n        console.log('password: ', password);\n        console.log('confirm_password: ', confirm_password);\n\n        if (password !== confirm_password) {\n            return;\n        }\n\n        fetch(`http://${IP}:3000/auth/signup`, {\n            method: 'POST',\n            cache: 'no-cache',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                email: this.state.user.email,\n                password: this.state.user.password\n            })\n        }).then(response => {\n            if (response.status === 200) {\n                this.setState({\n                    errors: {}\n                })\n                // Change current url to login\n                this.props.history.push('/login');\n            } else {\n                response.json().then(function(json){\n                    console.log(json);\n                    const errors = json.errors? json.errors: {};\n                    errors.summary = json.message;\n                    console.log(this.state.errors);\n                    this.setState({\n                        errors\n                    })\n                }.bind(this));\n            }\n        })\n    }\n\n    changeUser(event) {\n        const field = event.target.name;\n        const user = this.state.user;\n        user[field] = event.target.value;\n\n        this.setState({user});\n        console.log(this.state.user.password);\n        if (this.state.user.password !== this.state.user.confirm_password) {\n            const errors = this.state.errors;\n            errors.password = \"Password and Confirm Password don't match.\";\n            this.setState({ errors });\n        } else {\n            const errors = this.state.errors;\n            errors.password = '';\n            this.setState({ errors });\n        }\n    }\n\n    render() {\n        return (\n            <SignUpForm \n                onSubmit={this.processForm}\n                onChange={this.changeUser}\n                errors={this.state.errors}\n                user={this.state.user}\n            />\n        );\n    }\n}\n\nexport default SignUpPage;","import './NewsPanel.css';\nimport _ from 'lodash';\nimport React from 'react';\nimport Auth from '../Auth/Auth';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { IP } from '../const';\n\nimport NewsCard from '../NewsCard/NewsCard';\nimport { Link, withRouter} from 'react-router-dom';\n\nclass NewsPanelForClass extends React.Component {\n    constructor(props) {\n        \n        super(props);\n        this.state = { news: null, pageNum: 1, totalPages: 1, loadedAll: false, category: this.props.match.params.category, likelist:[]};\n        this.handleScroll = this.handleScroll.bind(this);\n        this.renderNews = this.renderNews.bind(this);\n        \n    }\n\n    componentDidMount() {\n        if (Auth.isUserAuthenticated()) {\n            this.loadClassNews();\n        }\n\n        // 防抖\n\n        this.loadMoreNews = _.debounce(this.loadClassNews, 1000);\n        this.loadLike()\n        window.addEventListener('scroll', this.handleScroll);\n    }\n    handleScroll() {\n        let scrollY = window.scrollY || window.pageYOffset || document.documentElement.scrollTop;\n        if ((window.innerHeight + scrollY) >= (document.body.offsetHeight - 50)) {\n            // 滚动到了最底部。\n            console.log('Loading more news');\n            this.loadClassNews();\n        }\n    }\n    loadClassNews(e) {\n        if (this.state.loadedAll === true) {\n            return;\n        }\n        let url = `http://${IP}:3000/news/userId/` + Auth.getEmail() + `/${this.state.category}/pageNum/` + this.state.pageNum\n        let request = new Request(encodeURI(url), {\n            method: 'GET',\n            headers: {\n                'Authorization': 'bearer ' + Auth.getToken(),\n            },\n            cache: 'no-cache',\n        });\n\n        fetch(request)\n            .then((res) => res.json())\n            .then((news) => {\n                console.log(\"category\" + this.state.category)\n                console.log(news)\n                console.log(\"category\" + this.state.category)\n\n                if (!news || news.length === 0) {\n                    this.setState({ loadedAll: true });\n                }\n                this.setState({\n                    news: this.state.news ? this.state.news.concat(news) : news,\n                    pageNum: this.state.pageNum + 1\n                });\n            });\n    }\n\n    renderNews() {\n        let category = this.state.category\n\n        var temp=this.state.likelist\n        var news_list = this.state.news.map(function (news) {\n\n            if (news.class == category)\n                return (\n                <a className='list-group-item' key={news.digest} href=\"#\">\n                    <NewsCard news={news} likelist={temp}/>\n                </a>\n                );\n            else\n                return <div></div>\n        });\n        return (\n            <div className=\"container-fluid\">\n                <div className='list-group'>\n                    {news_list}\n                </div>\n            </div>\n        );\n    }\n    loadLike(e) {\n        // if (this.state.loadedAll === true) {\n        //     return;\n        // }\n        let url = `http://${IP}:3000/news/getlike/userId/` + Auth.getEmail() + '/pageNum/' + this.state.pageNum\n        let request = new Request(encodeURI(url), {\n            method: 'GET',\n            headers: {\n                'Authorization': 'bearer ' + Auth.getToken(),\n            },\n            cache: 'no-cache',\n        });\n\n        fetch(request)\n            .then((res) => res.json())\n            .then((list) => {\n                //console.log(list)\n                this.setState({ likelist:list});\n                // if (!news || news.length === 0) {\n                //     this.setState({ loadedAll: true });\n                // }\n                // this.setState({\n                //     news: this.state.news ? this.state.news.concat(news) : news,\n                //     pageNum: this.state.pageNum + 1\n                // });\n            });\n    }\n\n    render() {\n        if (Auth.isUserAuthenticated()) {\n            if (this.state.news) {\n                return (\n                    <div>\n                        {this.renderNews()}\n                    </div>\n                );\n            } else {\n                return (\n                    <div>\n                        <div id='msg-app-loading'>\n                            Loading\n                        </div>\n                    </div>\n                )\n            }\n        } else {\n            this.props.history.replace(\"/login\")\n\n            return (\n                <div className='container'>\n                    Please login first\n                </div>\n            )\n        }\n    }\n}\n\n// export default NewsPanel;\nexport default withRouter(NewsPanelForClass);\n","import React from 'react'\nimport { useState } from 'react';\nimport {Modal, Button, Form} from 'react-bootstrap'\nimport Auth from '../Auth/Auth';\nimport { IP } from '../const';\n\n\nconst EditModal = ({update, attr}) => {\n    \n    const [show, setShow] = useState(false);\n    const [userInfo, setUserInfo] = useState(\"\")\n\n    const handleClose = () => setShow(false);\n    const handleShow = () => setShow(true);\n\n    \n\n    const updateTest = (user_info, attr) => {\n        let url = `http://${IP}:3000/news/update/` + Auth.getEmail()\n        \n        console.log(\"hhhh\",user_info, attr)\n        let request = new Request(encodeURI(url), {\n            method: 'POST',\n            headers: {\n                'Authorization': 'bearer ' + Auth.getToken(),\n                'Content-Type': 'application/json',\n            },\n            cache: 'no-cache',\n            body: JSON.stringify({\n                user_info: user_info,\n                attr: attr,\n            })\n        });\n\n        fetch(request)\n    }\n    const handleChange = (event) =>{\n        setUserInfo(event.target.value)\n    }\n\n    const save = () => {\n        console.log(userInfo)\n        console.log(attr)\n        updateTest(userInfo, attr)\n\n        handleClose()\n        window.location.reload(false);\n    }\n\n  return (\n    <>\n      <Button variant=\"primary\" onClick={handleShow}>\n        Update\n      </Button>\n\n      <Modal show={show} onHide={handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>Update {attr}</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Form>\n            <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput1\">\n              <Form.Label>{attr}</Form.Label>\n              <Form.Control\n                autoFocus\n                onChange={handleChange}\n              />\n            </Form.Group>\n          </Form>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            Close\n          </Button>\n          <Button variant=\"primary\" onClick={save}>\n            Save\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n}\n\nexport default EditModal","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router';\nimport Auth from '../Auth/Auth';\n// import { IP } from '../const';\nimport EditModal from './EditModal'\nimport \"./PersonProfile.css\"\nimport { IP } from '../const';\n\n\nconst PersonProfile = ()=> {\n    const [userInfo, setUserInfo] = useState({\n        \"email\": \"yuninx1@uci.edu\",\n        \"birthday\": new Date(),\n        \"alias\": \"hello world\",\n        \"country\": \"US\"\n    });\n\n    const [userEmail, setEmail] = useState(\"\")\n    const [userBirthday, setBirth] = useState(\"\")\n    const [userAlias, setAlias] = useState(\"\")\n    const [userCountry, setCountry] = useState(\"\")\n     useEffect(()=>{\n        loadUserInfo()\n        console.log(userInfo)\n     },[])\n\n\n     const show = () => {\n         console.log(userAlias)\n     }\n    const loadUserInfo = () => {\n        let url = `http://${IP}:3000/news/userId/` + Auth.getEmail()\n        let request = new Request(encodeURI(url), {\n            method: 'GET',\n            headers: {\n                'Authorization': 'bearer ' + Auth.getToken(),\n            },\n            cache: 'no-cache',\n        });\n        console.log(\"beforefetch\")\n        fetch(request)\n            .then((res) => res.json())\n            .then((res) => {\n                console.log(res[0])\n                setUserInfo(res[0])\n                setEmail(res[0]['email'])\n                setBirth(res[0]['birthday'])\n                setAlias(res[0]['alias'])\n                setCountry(res[0]['country'])\n            })\n            \n        console.log(\"afterfetch\")\n    }\n     \n    const updateEmail = () => {\n        alert(\"Email changed\")\n    }\n\n    const updateBirth = () => {\n        alert(\"Birthday changed\")\n    }\n\n    const updateAlias = () => {\n        // let url = 'http://localhost:3000/news/update/userId/'+Auth.getEmail()\n        // let request = new Request(encodeURI(url), {\n        //     method: 'POST',\n        //     cache: 'no-cache',\n        //     headers: {\n        //         'Accept': 'application/json',\n        //         'Content-Type': 'application/json',\n        //     },\n        //     body: JSON.stringify({\n        //         email: this.state.user.email,\n        //         alias: this.state.\n        //     })\n        // })\n\n\n        alert(\"display of name changed\")\n    }\n\n    const updateCountry = () => {\n        alert(\"residency of country changed\")\n    }\n    \n\n    return (\n\n        <div className='ProfileContainer'>\n\n            <div className='ProfileTitle title'>\n                This is Profile\n            </div>\n            <div className='ProfileContainer'>\n                <div className = 'ProfileItem'>\n                    <div className='ProfileLabel'>\n                        <div>Email:</div>\n                    </div>\n                    <div className='ProfileContent'>\n                        <div>{userEmail === undefined || userEmail === \"\" ? \"None Set\" : userEmail}</div>\n\n                        {/* <EditModal update={updateEmail} attr={\"email\"}/> */}\n            \n                    </div>\n                </div>\n                <div className = 'ProfileItem'>\n                    <div className='ProfileLabel'>\n                        <div>Birthday:</div>\n                    </div>\n                    <div className='ProfileContent'>\n                        <div>{userBirthday === undefined || userBirthday === \"\" ? \"None Set\" : userBirthday}</div>\n\n                        <EditModal update={updateBirth} attr={\"birthday\"}/>\n            \n                    </div>\n                </div>\n                <div className = 'ProfileItem'>\n                    <div className='ProfileLabel'>\n                        <div>Alias:</div>\n                    </div>\n                    <div className='ProfileContent'>\n                        <div>{userAlias === undefined || userAlias ===  \"\" ? \"None Set\" : userAlias}</div>\n\n                        <EditModal update={updateAlias} attr={\"alias\"}/>\n            \n                    </div>\n                </div>\n                <div className = 'ProfileItem'>\n                    <div className='ProfileLabel'>\n                        <div>Country:</div>\n                    </div>\n                    <div className='ProfileContent'>\n                        <div>{userCountry === undefined || userCountry ===  \"\" ? \"None Set\" : userCountry}</div>\n\n                        <EditModal update={updateCountry} attr={\"country\"}/>\n            \n                    </div>\n                </div>\n                \n                    {/* <div className='ProfileContent'>\n                        <div>{userEmail === undefined || userEmail === \"\" ? \"None Set\" : userEmail}</div>\n                        <div>{userBirthday === undefined || userBirthday === \"\" ? \"None Set\" : userBirthday}</div>\n                        <div>{userAlias === undefined || userAlias ===  \"\" ? \"None Set\" : userAlias}</div>\n                        <div>{userCountry === undefined || userCountry ===  \"\" ? \"None Set\" : userCountry}</div>\n                        <div className='UpdateButton'>\n                        <EditModal update={updateEmail} attr={\"email\"}/>\n                        <EditModal update={updateBirth} attr={\"birthday\"}/>\n                        <EditModal update={updateAlias} attr={\"alias\"}/>\n                        <EditModal update={updateCountry} attr={\"country\"}/>\n                    </div>\n                    </div> */}\n                    \n\n\n\n            </div>\n        </div>\n    )\n}\n\nexport default PersonProfile","import './NewsPanel.css';\nimport _ from 'lodash';\nimport React from 'react';\nimport Auth from '../Auth/Auth';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { IP } from '../const';\n\nimport NewsCard from '../NewsCard/NewsCard';\nimport { Link, withRouter} from 'react-router-dom';\n\nclass NewsPanelForLike extends React.Component {\n    constructor(props) {\n        \n        super(props);\n        this.state = { news: null, pageNum: 1, totalPages: 1, loadedAll: false, likelist:[]};\n        this.handleScroll = this.handleScroll.bind(this);\n        this.renderNews = this.renderNews.bind(this);\n\n        \n    }\n\n    componentDidMount() {\n        if (Auth.isUserAuthenticated()) {\n            this.loadLikedNews();\n        }\n        console.log(\"did redirect\")\n        // 防抖\n        this.loadMoreNews = _.debounce(this.loadLikedNews, 1000);\n        this.loadLike()\n        window.addEventListener('scroll', this.handleScroll);\n    }\n    handleScroll() {\n        let scrollY = window.scrollY || window.pageYOffset || document.documentElement.scrollTop;\n        if ((window.innerHeight + scrollY) >= (document.body.offsetHeight - 50)) {\n            // 滚动到了最底部。\n            console.log('Loading more news');\n            this.loadLikedNews();\n        }\n    }\n    loadLike(e) {\n        // if (this.state.loadedAll === true) {\n        //     return;\n        // }\n        let url = `http://${IP}:3000/news/getlike/userId/` + Auth.getEmail() + '/pageNum/' + this.state.pageNum\n        let request = new Request(encodeURI(url), {\n            method: 'GET',\n            headers: {\n                'Authorization': 'bearer ' + Auth.getToken(),\n            },\n            cache: 'no-cache',\n        });\n\n        fetch(request)\n            .then((res) => res.json())\n            .then((list) => {\n                //console.log(list)\n                this.setState({ likelist:list});\n                // if (!news || news.length === 0) {\n                //     this.setState({ loadedAll: true });\n                // }\n                // this.setState({\n                //     news: this.state.news ? this.state.news.concat(news) : news,\n                //     pageNum: this.state.pageNum + 1\n                // });\n            });\n    }\n    loadLikedNews(e) {\n        console.log(\"did loadlike\")\n        if (this.state.loadedAll === true) {\n            return;\n        }\n        console.log(\"liked User: \" + Auth.getEmail())\n        let url = `http://${IP}:3000/news/liked/userId/` + Auth.getEmail() + `/pageNum/` + this.state.pageNum\n        let request = new Request(encodeURI(url), {\n            method: 'GET',\n            headers: {\n                'Authorization': 'bearer ' + Auth.getToken(),\n            },\n            cache: 'no-cache',\n        });\n\n        fetch(request)\n            .then((res) => res.json())\n            .then((news) => {\n                if (!news || news.length === 0) {\n                    this.setState({ loadedAll: true });\n                }\n\n                this.setState({\n                    news: this.state.news ? this.state.news.concat(news) : news,\n                    pageNum: this.state.pageNum + 1\n                });\n            });\n    }\n    // loadMoreNews(e) {\n    //     if (this.state.loadedAll === true) {\n    //         return;\n    //     }\n    //     let url = 'http://localhost:3000/news/userId/' + Auth.getEmail() + `${this.state.category}/pageNum/` + this.state.pageNum\n    //     let request = new Request(encodeURI(url), {\n    //         method: 'GET',\n    //         headers: {\n    //             'Authorization': 'bearer ' + Auth.getToken(),\n    //         },\n    //         cache: 'no-cache',\n    //     });\n\n    //     fetch(request)\n    //         .then((res) => res.json())\n    //         .then((news) => {\n    //             if (!news || news.length === 0) {\n    //                 this.setState({ loadedAll: true });\n    //             }\n    //             this.setState({\n    //                 news: this.state.news ? this.state.news.concat(news) : news,\n    //                 pageNum: this.state.pageNum + 1\n    //             });\n    //         });\n    // }\n    unique (arr) {\n        let len = arr.length\n        for (let i = 0; i < len; i++) {\n\n            for (let j = i + 1; j < len; j++) {\n                if (arr[i].digest === arr[j].digest) {\n                    arr.splice(j, 1)\n                    len-- // 减少循环次数提高性能\n                    j-- // 保证j的值自加后不变\n                }\n            }\n        }\n        return arr\n    }\n    renderNews() {\n        var temp=this.state.likelist\n        this.state.news=this.unique(this.state.news)\n        console.log(\" ----- \")\n        console.log(this.state.news)\n        console.log(\" ----- \")\n        var news_list = this.state.news.map(function (news) {\n            console.log(news.class)\n\n                return (\n                <a className='list-group-item' key={news.digest} href=\"#\">\n                    <NewsCard news={news} likelist={temp}/>\n                </a>\n                );\n\n        });\n        return (\n            <div className=\"container-fluid\">\n                <div className='list-group'>\n                    {news_list}\n                </div>\n            </div>\n        );\n    }\n\n    render() {\n        if (Auth.isUserAuthenticated()) {\n            if (this.state.news) {\n                return (\n                    <div>\n                        {this.renderNews()}\n                    </div>\n                );\n            } else {\n                return (\n                    <div>\n                        <div id='msg-app-loading'>\n                            Loading\n                        </div>\n                    </div>\n                )\n            }\n        } else {\n            this.props.history.replace(\"/login\")\n\n            return (\n                <div className='container'>\n                    Please login first\n                </div>\n            )\n        }\n    }\n}\n\n// export default NewsPanel;\nexport default withRouter(NewsPanelForLike);\n","import './NewsPanel.css';\nimport _ from 'lodash';\nimport React from 'react';\nimport Auth from '../Auth/Auth';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { IP } from '../const';\n\nimport NewsCard from '../NewsCard/NewsCard';\nimport { Link, withRouter} from 'react-router-dom';\n\nclass NewsPanelForRecommend extends React.Component {\n    constructor(props) {\n        \n        super(props);\n        this.state = { news: null, pageNum: 1, totalPages: 1, loadedAll: false, likelist:[]};\n        this.handleScroll = this.handleScroll.bind(this);\n        this.renderNews = this.renderNews.bind(this);\n        \n    }\n\n    componentDidMount() {\n        if (Auth.isUserAuthenticated()) {\n            this.loadLikedNews();\n        }\n\n        // 防抖\n        this.loadLike();\n        this.loadLikedNews = _.debounce(this.loadLikedNews, 1000);\n        window.addEventListener('scroll', this.handleScroll);\n    }\n    handleScroll() {\n        let scrollY = window.scrollY || window.pageYOffset || document.documentElement.scrollTop;\n        if ((window.innerHeight + scrollY) >= (document.body.offsetHeight - 50)) {\n            // 滚动到了最底部。\n            console.log('Loading more news');\n            this.loadLike()\n            this.loadLikedNews();\n        }\n    }\n    loadLikedNews(e) {\n        if (this.state.loadedAll === true) {\n            return;\n        }\n        let url = `http://${IP}:3000/news/recommend/userId/` + Auth.getEmail() + `/pageNum/` + this.state.pageNum\n        let request = new Request(encodeURI(url), {\n            method: 'GET',\n            headers: {\n                'Authorization': 'bearer ' + Auth.getToken(),\n            },\n            cache: 'no-cache',\n        });\n\n        fetch(request)\n            .then((res) => res.json())\n            .then((news) => {\n                if (!news || news.length === 0) {\n                    this.setState({ loadedAll: true });\n                }\n                this.setState({\n                    news: this.state.news ? this.state.news.concat(news) : news,\n                    pageNum: this.state.pageNum + 1\n                });\n            });\n    }\n    loadLike(e) {\n        // if (this.state.loadedAll === true) {\n        //     return;\n        // }\n        let url = `http://${IP}:3000/news/getlike/userId/` + Auth.getEmail() + '/pageNum/' + this.state.pageNum\n        let request = new Request(encodeURI(url), {\n            method: 'GET',\n            headers: {\n                'Authorization': 'bearer ' + Auth.getToken(),\n            },\n            cache: 'no-cache',\n        });\n\n        fetch(request)\n            .then((res) => res.json())\n            .then((list) => {\n                //console.log(list)\n                this.setState({ likelist:list});\n                // if (!news || news.length === 0) {\n                //     this.setState({ loadedAll: true });\n                // }\n                // this.setState({\n                //     news: this.state.news ? this.state.news.concat(news) : news,\n                //     pageNum: this.state.pageNum + 1\n                // });\n            });\n    }\n    // loadMoreNews(e) {\n    //     if (this.state.loadedAll === true) {\n    //         return;\n    //     }\n    //     let url = 'http://localhost:3000/news/userId/' + Auth.getEmail() + `${this.state.category}/pageNum/` + this.state.pageNum\n    //     let request = new Request(encodeURI(url), {\n    //         method: 'GET',\n    //         headers: {\n    //             'Authorization': 'bearer ' + Auth.getToken(),\n    //         },\n    //         cache: 'no-cache',\n    //     });\n\n    //     fetch(request)\n    //         .then((res) => res.json())\n    //         .then((news) => {\n    //             if (!news || news.length === 0) {\n    //                 this.setState({ loadedAll: true });\n    //             }\n    //             this.setState({\n    //                 news: this.state.news ? this.state.news.concat(news) : news,\n    //                 pageNum: this.state.pageNum + 1\n    //             });\n    //         });\n    // }\n    unique (arr) {\n        let len = arr.length\n        for (let i = 0; i < len; i++) {\n\n            for (let j = i + 1; j < len; j++) {\n                if (arr[i].digest === arr[j].digest) {\n                    arr.splice(j, 1)\n                    len-- // 减少循环次数提高性能\n                    j-- // 保证j的值自加后不变\n                }\n            }\n        }\n        return arr\n    }\n    renderNews() {\n\n        var temp=this.state.likelist\n        this.state.news=this.unique(this.state.news)\n        console.log(this.state.news)\n        var news_list = this.state.news.map(function (news) {\n            console.log(news.class)\n            return (\n                <a className='list-group-item' key={news.digest} href=\"#\">\n                    <NewsCard news={news} likelist={temp}/>\n                </a>\n            );\n            \n        });\n        return (\n            <div className=\"container-fluid\">\n                <div className='list-group'>\n                    {news_list}\n                </div>\n            </div>\n        );\n    }\n\n    render() {\n        if (Auth.isUserAuthenticated()) {\n            if (this.state.news) {\n                return (\n                    <div>\n                        {this.renderNews()}\n                    </div>\n                );\n            } else {\n                return (\n                    <div>\n                        <div id='msg-app-loading'>\n                            Loading\n                        </div>\n                    </div>\n                )\n            }\n        } else {\n            this.props.history.replace(\"/login\")\n\n            return (\n                <div className='container'>\n                    Please login first\n                </div>\n            )\n        }\n    }\n}\n\n// export default NewsPanel;\nexport default withRouter(NewsPanelForRecommend);\n","import 'materialize-css/dist/css/materialize.min.css';\nimport 'materialize-css/dist/js/materialize.min.js';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n// import NewsPanel from '../NewsPanel/NewsPanel';\n\n// // import logo from './logo.svg';\n// import './App.css';\n\n// function App() {\n//   return (\n//     <div className=\"App\">\n//         <div className=\"container\">\n//           <NewsPanel/>\n//         </div>\n//     </div>\n//   );\n// }\n\n// export default App;\n\n\nimport React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport './App.css';\nimport NewsPanel from \"../NewsPanel/NewsPanel\";\nimport Base from \"../Base/Base\";\nimport LoginPage from \"../Login/LoginPage\";\nimport SignUpPage from \"../SignUp/SignUpPage\";\nimport NewsPanelForClass from '../NewsPanel/NewsPanelForClass';\nimport PersonProfile from '../Person/PersonProfile';\nimport NewsPanelForLike from '../NewsPanel/NewsPanelForLike';\nimport NewsPanelForRecommend from '../NewsPanel/NewsPanelForRecommend';\n\nclass App extends React.Component {\n  render() {\n    return (\n      <div>\n        <Base>\n          <Switch>\n            <Route path=\"/login\" component={LoginPage} />\n            <Route path=\"/signup\" component={SignUpPage} />\n            <Route path=\"/categories/:category\" component={NewsPanelForClass} />\n            <Route path=\"/favorites\" component={NewsPanelForLike} />\n            <Route path=\"/recommend\" component={NewsPanelForRecommend} />\n            <Route path=\"/personal\" component={PersonProfile} />\n            <Route path=\"/\" component={NewsPanel} />\n          </Switch>\n        </Base>\n      </div>\n    )\n  }\n}\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App/App';\nimport {BrowserRouter as Router} from 'react-router-dom'\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n    <Router>\n        <App />\n    </Router>, \n    document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}